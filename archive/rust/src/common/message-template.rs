// Copyright 2018 the V8 project authors. All rights reserved.
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

/// Defines the MessageTemplate enum and related functions.
pub mod message_template {
    /// Represents the different message templates used in the V8 engine.
    #[derive(Debug, Copy, Clone, PartialEq, Eq)]
    #[repr(u32)]
    pub enum MessageTemplate {
        /// Error
        None,
        ConflictingPrivateName,
        CyclicProto,
        Debugger,
        DebuggerLoading,
        DefaultOptionsMissing,
        DeletePrivateField,
        PlaceholderOnly,
        UncaughtException,
        Unsupported,
        WrongServiceType,
        WrongValueType,
        IcuError,
        /// TypeError
        ApplyNonFunction,
        ArgumentsDisallowedInInitializerAndStaticBlock,
        ArgumentIsNonObject,
        ArgumentIsNonString,
        ArrayBufferDetachKeyDoesntMatch,
        ArrayBufferTooShort,
        ArrayBufferSpeciesThis,
        AwaitNotInAsyncContext,
        AwaitNotInDebugEvaluate,
        AtomicsMutexNotOwnedByCurrentThread,
        AtomicsOperationNotAllowed,
        BadRoundingType,
        BadSortComparisonFunction,
        BigIntFromNumber,
        BigIntFromObject,
        BigIntMixedTypes,
        BigIntSerializeJSON,
        BigIntShr,
        BigIntToNumber,
        CalledNonCallable,
        CalledOnNonObject,
        CalledOnNullOrUndefined,
        CallShadowRealmEvaluateThrew,
        CallSiteExpectsFunction,
        CallSiteMethod,
        CallSiteMethodUnsupportedInShadowRealm,
        CallWrappedFunctionThrew,
        CannotBeShared,
        CannotConvertToPrimitive,
        CannotPreventExt,
        CannotFreeze,
        CannotFreezeArrayBufferView,
        CannotSeal,
        CannotSealArrayBufferView,
        CannotWrap,
        CircularStructure,
        ConstructAbstractClass,
        ConstAssign,
        ConstructorClassField,
        ConstructorNonCallable,
        AnonymousConstructorNonCallable,
        ConstructorNotFunction,
        ConstructorNotReceiver,
        CurrencyCode,
        CyclicModuleDependency,
        DataViewNotArrayBuffer,
        DateType,
        DebuggerFrame,
        DebuggerType,
        DeclarationMissingInitializer,
        DefineDisallowed,
        DefineDisallowedFixedLayout,
        DetachedOperation,
        DoNotUse,
        DuplicateTemplateProperty,
        ExtendsValueNotConstructor,
        FirstArgumentNotRegExp,
        FunctionBind,
        GeneratorRunning,
        IllegalInvocation,
        ImmutablePrototypeSet,
        ImportAttributesDuplicateKey,
        ImportCallNotNewExpression,
        ImportOutsideModule,
        ImportMetaOutsideModule,
        ImportMissingSpecifier,
        ImportShadowRealmRejected,
        IncompatibleMethodReceiver,
        InstanceofNonobjectProto,
        InvalidArgument,
        InvalidArgumentForTemporal,
        InvalidOption,
        InvalidInOperatorUse,
        InvalidRawJsonValue,
        InvalidRegExpExecResult,
        InvalidUnit,
        IsNotNumber,
        IterableYieldedNonString,
        IteratorReduceNoInitial,
        IteratorResultNotAnObject,
        SpreadIteratorSymbolNonCallable,
        FirstArgumentIteratorSymbolNonCallable,
        FirstArgumentAsyncIteratorSymbolNonCallable,
        IteratorValueNotAnObject,
        KeysMethodInvalid,
        LanguageID,
        LocaleNotEmpty,
        LocaleBadParameters,
        ListFormatBadParameters,
        MapperFunctionNonCallable,
        MethodInvokedOnWrongType,
        NoAccess,
        NonCallableInInstanceOfCheck,
        NonCoercible,
        NonCoercibleWithProperty,
        NonExtensibleProto,
        NonObjectAttributesOption,
        NonObjectInInstanceOfCheck,
        NonObjectPrivateNameAccess,
        NonObjectPropertyLoad,
        NonObjectPropertyLoadWithProperty,
        NonObjectPropertyStore,
        NonObjectPropertyStoreWithProperty,
        NonObjectImportArgument,
        NonStringImportAttributeValue,
        NoSetterInCallback,
        NotAnIterator,
        PromiseNewTargetUndefined,
        NotConstructor,
        NotDateObject,
        NotGeneric,
        NotCallable,
        NotCallableOrIterable,
        NotCallableOrAsyncIterable,
        NotFiniteNumber,
        NotIterable,
        NotIterableNoSymbolLoad,
        NotAsyncIterable,
        NotPropertyName,
        NotTypedArray,
        NotSuperConstructor,
        NotSuperConstructorAnonymousClass,
        NotIntegerTypedArray,
        NotInt32OrBigInt64TypedArray,
        NotSharedTypedArray,
        ObjectFixedLayout,
        ObjectGetterExpectingFunction,
        ObjectGetterCallable,
        ObjectNotExtensible,
        ObjectSetterExpectingFunction,
        ObjectSetterCallable,
        OrdinaryFunctionCalledAsConstructor,
        PromiseCyclic,
        PromiseExecutorAlreadyInvoked,
        PromiseNonCallable,
        PropertyDescObject,
        PropertyNotFunction,
        ProtoObjectOrNull,
        PrototypeParentNotAnObject,
        ProxyConstructNonObject,
        ProxyDefinePropertyNonConfigurable,
        ProxyDefinePropertyNonConfigurableWritable,
        ProxyDefinePropertyNonExtensible,
        ProxyDefinePropertyIncompatible,
        ProxyDeletePropertyNonConfigurable,
        ProxyDeletePropertyNonExtensible,
        ProxyGetNonConfigurableData,
        ProxyGetNonConfigurableAccessor,
        ProxyGetOwnPropertyDescriptorIncompatible,
        ProxyGetOwnPropertyDescriptorInvalid,
        ProxyGetOwnPropertyDescriptorNonConfigurable,
        ProxyGetOwnPropertyDescriptorNonConfigurableWritable,
        ProxyGetOwnPropertyDescriptorNonExtensible,
        ProxyGetOwnPropertyDescriptorUndefined,
        ProxyGetPrototypeOfInvalid,
        ProxyGetPrototypeOfNonExtensible,
        ProxyHasNonConfigurable,
        ProxyHasNonExtensible,
        ProxyIsExtensibleInconsistent,
        ProxyNonObject,
        ProxyOwnKeysMissing,
        ProxyOwnKeysNonExtensible,
        ProxyOwnKeysDuplicateEntries,
        ProxyPreventExtensionsExtensible,
        ProxyPrivate,
        ProxyRevoked,
        ProxySetFrozenData,
        ProxySetFrozenAccessor,
        ProxySetPrototypeOfNonExtensible,
        ProxyTrapReturnedFalsish,
        ProxyTrapReturnedFalsishFor,
        RedefineDisallowed,
        RedefineExternalArray,
        ReduceNoInitial,
        RegExpFlags,
        RegExpNonObject,
        RegExpNonRegExp,
        RegExpGlobalInvokedOnNonGlobal,
        RelativeDateTimeFormatterBadParameters,
        ResolverNotAFunction,
        ReturnMethodNotCallable,
        SizeIsNaN,
        ShadowRealmErrorStackNonString,
        ShadowRealmErrorStackThrows,
        SharedArrayBufferTooShort,
        SharedArrayBufferSpeciesThis,
        SharedStructTypeRegistryMismatch,
        StaticPrototype,
        StrictDeleteProperty,
        StrictPoisonPill,
        StrictReadOnlyProperty,
        StrictCannotCreateProperty,
        StringMatchAllNullOrUndefinedFlags,
        SymbolIteratorInvalid,
        SymbolAsyncIteratorInvalid,
        SymbolKeyFor,
        SymbolToNumber,
        SymbolToString,
        ThrowMethodMissing,
        TopLevelAwaitStalled,
        UndefinedOrNullToObject,
        UsingAssign,
        ValueAndAccessor,
        VarRedeclaration,
        VarNotAllowedInEvalScope,
        WrongArgs,
        /// ReferenceError
        NotDefined,
        SuperAlreadyCalled,
        AccessedUninitializedVariable,
        UnsupportedSuper,
        AccessedUnavailableVariable,
        DisposableStackIsDisposed,
        NotAnAsyncDisposableStack,
        /// RangeError
        BigIntDivZero,
        BigIntTooBig,
        CantSetOptionXWhenYIsUsed,
        DateRange,
        ExpectedLocation,
        InvalidArrayBufferLength,
        InvalidArrayBufferMaxLength,
        InvalidArrayBufferResizeLength,
        ArrayBufferAllocationFailed,
        Invalid,
        InvalidArrayLength,
        InvalidAtomicAccessIndex,
        InvalidCalendar,
        InvalidCodePoint,
        InvalidCountValue,
        InvalidDataViewAccessorOffset,
        InvalidDataViewLength,
        InvalidOffset,
        InvalidHint,
        InvalidIndex,
        InvalidLanguageTag,
        InvalidWeakMapKey,
        InvalidWeakSetValue,
        InvalidShadowRealmEvaluateSourceText,
        InvalidStringLength,
        InvalidTimeValue,
        InvalidTimeValueForTemporal,
        InvalidTimeZone,
        InvalidTypedArrayAlignment,
        InvalidTypedArrayIndex,
        InvalidTypedArrayLength,
        LetInLexicalBinding,
        LocaleMatcher,
        MaximumFractionDigitsNotEqualMinimumFractionDigits,
        NormalizationForm,
        OutOfMemory,
        ZeroDigitNumericSeparator,
        NumberFormatRange,
        TrailingNumericSeparator,
        ContinuousNumericSeparator,
        PropertyValueOutOfRange,
        StackOverflow,
        ToPrecisionFormatRange,
        ToRadixFormatRange,
        SharedArraySizeOutOfRange,
        StructFieldCountOutOfRange,
        TypedArraySetOffsetOutOfBounds,
        TypedArraySetSourceTooLarge,
        TypedArrayTooLargeToSort,
        ValueOutOfRange,
        CollectionGrowFailed,
        MustBePositive,
        ArgumentIsNotUndefinedOrInteger,
        /// SyntaxError
        AmbiguousExport,
        BadGetterArity,
        BadSetterArity,
        Base64ExtraBits,
        Base64InputRemainder,
        BigIntInvalidString,
        ConstructorIsAccessor,
        ConstructorIsGenerator,
        ConstructorIsAsync,
        ConstructorIsPrivate,
        DerivedConstructorReturnedNonObject,
        DuplicateConstructor,
        DuplicateExport,
        DuplicateProto,
        ForInOfLoopInitializer,
        ForOfLet,
        ForOfAsync,
        ForInOfLoopMultiBindings,
        GeneratorInSingleStatementContext,
        AsyncFunctionInSingleStatementContext,
        IllegalBreak,
        ModuleExportNameWithoutFromClause,
        NoIterationStatement,
        IllegalContinue,
        IllegalLanguageModeDirective,
        IllegalReturn,
        IntrinsicWithSpread,
        InvalidBase64Character,
        InvalidRestBindingPattern,
        InvalidPropertyBindingPattern,
        InvalidRestAssignmentPattern,
        InvalidEscapedReservedWord,
        InvalidEscapedMetaProperty,
        InvalidLhsInAssignment,
        InvalidCoverInitializedName,
        InvalidDestructuringTarget,
        InvalidLhsInFor,
        InvalidLhsInPostfixOp,
        InvalidLhsInPrefixOp,
        InvalidHexString,
        InvalidModuleExportName,
        InvalidRegExpFlags,
        InvalidOrUnexpectedToken,
        InvalidPrivateBrandInstance,
        InvalidPrivateBrandStatic,
        InvalidPrivateBrandReinitialization,
        InvalidPrivateFieldReinitialization,
        InvalidPrivateFieldResolution,
        InvalidPrivateMemberRead,
        InvalidPrivateMemberWrite,
        InvalidPrivateMethodWrite,
        InvalidPrivateGetterAccess,
        InvalidPrivateSetterAccess,
        InvalidSizeValue,
        InvalidUnusedPrivateStaticMethodAccessedByDebugger,
        InvalidUsingInForInLoop,
        JsonParseUnexpectedEOS,
        JsonParseUnexpectedTokenNumber,
        JsonParseUnexpectedTokenString,
        JsonParseUnterminatedString,
        JsonParseExpectedPropNameOrRBrace,
        JsonParseExpectedCommaOrRBrack,
        JsonParseExpectedCommaOrRBrace,
        JsonParseExpectedDoubleQuotedPropertyName,
        JsonParseExponentPartMissingNumber,
        JsonParseExpectedColonAfterPropertyName,
        JsonParseUnterminatedFractionalNumber,
        JsonParseUnexpectedNonWhiteSpaceCharacter,
        JsonParseBadEscapedCharacter,
        JsonParseBadControlCharacter,
        JsonParseBadUnicodeEscape,
        JsonParseNoNumberAfterMinusSign,
        JsonParseShortString,
        JsonParseUnexpectedTokenShortString,
        JsonParseUnexpectedTokenSurroundStringWithContext,
        JsonParseUnexpectedTokenEndStringWithContext,
        JsonParseUnexpectedTokenStartStringWithContext,
        LabelRedeclaration,
        LabelledFunctionDeclaration,
        MalformedArrowFunParamList,
        MalformedRegExp,
        MalformedRegExpFlags,
        ModuleExportUndefined,
        MissingFunctionName,
        HtmlCommentInModule,
        MultipleDefaultsInSwitch,
        NewlineAfterThrow,
        NoCatchOrFinally,
        ParamAfterRest,
        FlattenPastSafeLength,
        PushPastSafeLength,
        ElementAfterRest,
        BadSetterRestParameter,
        ParamDupe,
        ArgStringTerminatesParametersEarly,
        UnexpectedEndOfArgString,
        RestDefaultInitializer,
        RuntimeWrongNumArgs,
        SuperNotCalled,
        SingleFunctionLiteral,
        SloppyFunction,
        SpeciesNotConstructor,
        StrictDelete,
        StrictEvalArguments,
        StrictFunction,
        StrictOctalLiteral,
        StrictDecimalWithLeadingZero,
        StrictOctalEscape,
        Strict8Or9Escape,
        StrictWith,
        TemplateOctalLiteral,
        Template8Or9Escape,
        ThisFormalParameter,
        AwaitBindingIdentifier,
        AwaitExpressionFormalParameter,
        TooManyArguments,
        TooManyParameters,
        TooManyProperties,
        TooManySpreads,
        TooManyVariables,
        TooManyElementsInPromiseCombinator,
        TypedArrayTooShort,
        UnexpectedEOS,
        UnexpectedPrivateField,
        UnexpectedReserved,
        UnexpectedStrictReserved,
        UnexpectedSuper,
        UnexpectedNewTarget,
        UnexpectedTemplateString,
        UnexpectedToken,
        UnexpectedTokenUnaryExponentiation,
        UnexpectedTokenIdentifier,
        UnexpectedTokenNumber,
        UnexpectedTokenString,
        UnexpectedTokenRegExp,
        UnexpectedLexicalDeclaration,
        UnknownLabel,
        UnresolvableExport,
        UnterminatedArgList,
        UnterminatedRegExp,
        UnterminatedTemplate,
        UnterminatedTemplateExpr,
        FoundNonCallableHasInstance,
        InvalidHexEscapeSequence,
        InvalidUnicodeEscapeSequence,
        UndefinedUnicodeCodePoint,
        YieldInParameter,
        /// EvalError
        CodeGenFromStrings,
        NoSideEffectDebugEvaluate,
        /// URIError
        URIMalformed,
        /// Wasm errors (currently Error)
        WasmTrapUnreachable,
        WasmTrapMemOutOfBounds,
        WasmTrapUnalignedAccess,
        WasmTrapDivByZero,
        WasmTrapDivUnrepresentable,
        WasmTrapRemByZero,
        WasmTrapFloatUnrepresentable,
        WasmTrapTableOutOfBounds,
        WasmTrapFuncSigMismatch,
        WasmTrapMultiReturnLengthMismatch,
        WasmTrapJSTypeError,
        WasmTrapDataSegmentOutOfBounds,
        WasmTrapElementSegmentOutOfBounds,
        WasmTrapRethrowNull,
        WasmTrapNullDereference,
        WasmTrapIllegalCast,
        WasmTrapArrayOutOfBounds,
        WasmTrapArrayTooLarge,
        WasmTrapStringInvalidUtf8,
        WasmTrapStringInvalidWtf8,
        WasmTrapStringOffsetOutOfBounds,
        WasmSuspendError,
        WasmTrapStringIsolatedSurrogate,
        WasmSuspendJSFrames,
        WasmExceptionError,
        WasmObjectsAreOpaque,
        /// Asm.js validation related
        AsmJsInvalid,
        AsmJsCompiled,
        AsmJsInstantiated,
        AsmJsLinkingFailed,
        /// DataCloneError messages
        DataCloneError,
        DataCloneErrorOutOfMemory,
        DataCloneErrorDetachedArrayBuffer,
        DataCloneErrorNonDetachableArrayBuffer,
        DataCloneErrorSharedArrayBufferTransferred,
        DataCloneDeserializationError,
        DataCloneDeserializationVersionError,
        /// Builtins-Trace Errors
        TraceEventCategoryError,
        TraceEventNameError,
        TraceEventNameLengthError,
        TraceEventPhaseError,
        TraceEventIDError,
        /// Weak refs
        InvalidWeakRefsUnregisterToken,
        WeakRefsCleanupMustBeCallable,
        InvalidWeakRefsRegisterTarget,
        WeakRefsRegisterTargetAndHoldingsMustNotBeSame,
        InvalidWeakRefsWeakRefConstructorTarget,
        OptionalChainingNoNew,
        OptionalChainingNoSuper,
        OptionalChainingNoTemplate,
        /// AggregateError
        AllPromisesRejected,
        CannotDeepFreezeObject,
        CannotDeepFreezeValue,
        /// SuppressedError
        SuppressedErrorDuringDisposal,
        ExpectAnObjectWithUsing,

        kMessageCount,
    }

    impl MessageTemplate {
        /// Converts an integer to a MessageTemplate.
        ///
        /// # Panics
        ///
        /// Panics if the message_id is out of range.
        pub fn from_int(message_id: u32) -> Self {
            assert!(message_id < MessageTemplate::kMessageCount as u32);
            unsafe { std::mem::transmute(message_id) }
        }
    }
}